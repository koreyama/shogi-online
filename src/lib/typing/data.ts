
// Typing word data with multiple romaji patterns for flexible input
// Each word has: display (kanji/kana shown large), kana (reading shown small), patterns (all valid romaji)

export interface TypingWord {
    display: string;       // Kanji/Katakana display (shown LARGE)
    kana: string;          // Hiragana reading
    patterns: string[][];  // Array of character-level alternatives for flexible romaji input
}

// Helper: build patterns from kana
// Each kana maps to an array of valid romaji alternatives
const KANA_MAP: Record<string, string[]> = {
    'あ': ['a'], 'い': ['i'], 'う': ['u'], 'え': ['e'], 'お': ['o'],
    'か': ['ka'], 'き': ['ki'], 'く': ['ku'], 'け': ['ke'], 'こ': ['ko'],
    'さ': ['sa'], 'し': ['si', 'shi'], 'す': ['su'], 'せ': ['se'], 'そ': ['so'],
    'た': ['ta'], 'ち': ['ti', 'chi'], 'つ': ['tu', 'tsu'], 'て': ['te'], 'と': ['to'],
    'な': ['na'], 'に': ['ni'], 'ぬ': ['nu'], 'ね': ['ne'], 'の': ['no'],
    'は': ['ha'], 'ひ': ['hi'], 'ふ': ['hu', 'fu'], 'へ': ['he'], 'ほ': ['ho'],
    'ま': ['ma'], 'み': ['mi'], 'む': ['mu'], 'め': ['me'], 'も': ['mo'],
    'や': ['ya'], 'ゆ': ['yu'], 'よ': ['yo'],
    'ら': ['ra'], 'り': ['ri'], 'る': ['ru'], 'れ': ['re'], 'ろ': ['ro'],
    'わ': ['wa'], 'を': ['wo'], 'ん': ['nn', 'n', 'xn'],
    'が': ['ga'], 'ぎ': ['gi'], 'ぐ': ['gu'], 'げ': ['ge'], 'ご': ['go'],
    'ざ': ['za'], 'じ': ['zi', 'ji'], 'ず': ['zu'], 'ぜ': ['ze'], 'ぞ': ['zo'],
    'だ': ['da'], 'ぢ': ['di'], 'づ': ['du', 'dzu'], 'で': ['de'], 'ど': ['do'],
    'ば': ['ba'], 'び': ['bi'], 'ぶ': ['bu'], 'べ': ['be'], 'ぼ': ['bo'],
    'ぱ': ['pa'], 'ぴ': ['pi'], 'ぷ': ['pu'], 'ぺ': ['pe'], 'ぽ': ['po'],
    // 拗音
    'きゃ': ['kya'], 'きゅ': ['kyu'], 'きょ': ['kyo'],
    'しゃ': ['sya', 'sha'], 'しゅ': ['syu', 'shu'], 'しょ': ['syo', 'sho'],
    'ちゃ': ['tya', 'cha'], 'ちゅ': ['tyu', 'chu'], 'ちょ': ['tyo', 'cho'],
    'にゃ': ['nya'], 'にゅ': ['nyu'], 'にょ': ['nyo'],
    'ひゃ': ['hya'], 'ひゅ': ['hyu'], 'ひょ': ['hyo'],
    'みゃ': ['mya'], 'みゅ': ['myu'], 'みょ': ['myo'],
    'りゃ': ['rya'], 'りゅ': ['ryu'], 'りょ': ['ryo'],
    'ぎゃ': ['gya'], 'ぎゅ': ['gyu'], 'ぎょ': ['gyo'],
    'じゃ': ['ja', 'zya', 'jya'], 'じゅ': ['ju', 'zyu', 'jyu'], 'じょ': ['jo', 'zyo', 'jyo'],
    'びゃ': ['bya'], 'びゅ': ['byu'], 'びょ': ['byo'],
    'ぴゃ': ['pya'], 'ぴゅ': ['pyu'], 'ぴょ': ['pyo'],
    // 特殊
    'ー': ['-'],
    'っ': ['xtu', 'xtsu'],  // 単独の「っ」(通常は次の子音を重ねる)
    // ファ行など
    'ふぁ': ['fa'], 'ふぃ': ['fi'], 'ふぅ': ['fu'], 'ふぇ': ['fe'], 'ふぉ': ['fo'],
    'てぃ': ['thi'], 'でぃ': ['dhi'],
    'うぃ': ['wi', 'uli'], 'うぇ': ['we', 'ule'], 'うぉ': ['who'],
};

/**
 * Parse kana string into character-level romaji patterns.
 * Each element is an array of valid romaji options for that "chunk" of kana.
 * Handles っ (double consonant) by checking the next character.
 */
export function kanaToPatterns(kana: string): string[][] {
    const result: string[][] = [];
    let i = 0;
    while (i < kana.length) {
        // Handle っ (促音): double the next consonant
        if (kana[i] === 'っ' && i + 1 < kana.length) {
            // Look ahead for multi-char kana (拗音 after っ)
            let nextChunk: string | undefined;
            let nextLen = 0;
            if (i + 2 < kana.length && KANA_MAP[kana.substring(i + 1, i + 3)]) {
                nextChunk = kana.substring(i + 1, i + 3);
                nextLen = 2;
            } else if (KANA_MAP[kana[i + 1]]) {
                nextChunk = kana[i + 1];
                nextLen = 1;
            }
            if (nextChunk && KANA_MAP[nextChunk]) {
                // Double first letter of each romaji pattern
                const nextPatterns = KANA_MAP[nextChunk];
                const doubled = nextPatterns.map(p => p[0] + p);
                // Also allow xtu/xtsu prefix variants
                const xtuVariants = nextPatterns.flatMap(p => ['xtu' + p, 'xtsu' + p]);
                result.push([...new Set([...doubled, ...xtuVariants])]);
                i += 1 + nextLen;
                continue;
            }
            // Standalone っ
            result.push(['xtu', 'xtsu', 'ltu', 'ltsu']);
            i++;
            continue;
        }

        // Try 2-char kana first (拗音)
        if (i + 1 < kana.length && KANA_MAP[kana.substring(i, i + 2)]) {
            result.push(KANA_MAP[kana.substring(i, i + 2)]);
            i += 2;
            continue;
        }

        // Single char kana
        if (KANA_MAP[kana[i]]) {
            result.push(KANA_MAP[kana[i]]);
            i++;
            continue;
        }

        // Unknown: use the character as-is
        result.push([kana[i]]);
        i++;
    }
    return result;
}

/**
 * Build a TypingWord from display and kana.
 */
function w(display: string, kana: string): TypingWord {
    return { display, kana, patterns: kanaToPatterns(kana) };
}

export const TYPING_WORDS: TypingWord[] = [
    // ====== 動物 ======
    w('猫', 'ねこ'),
    w('犬', 'いぬ'),
    w('鳥', 'とり'),
    w('馬', 'うま'),
    w('魚', 'さかな'),
    w('虎', 'とら'),
    w('熊', 'くま'),
    w('鹿', 'しか'),
    w('猿', 'さる'),
    w('蛇', 'へび'),
    w('象', 'ぞう'),
    w('牛', 'うし'),
    w('豚', 'ぶた'),
    w('羊', 'ひつじ'),
    w('兎', 'うさぎ'),
    w('亀', 'かめ'),
    w('蛙', 'かえる'),
    w('鯨', 'くじら'),
    w('海豚', 'いるか'),
    w('ペンギン', 'ぺんぎん'),
    w('ライオン', 'らいおん'),
    w('キリン', 'きりん'),
    w('カンガルー', 'かんがるー'),
    w('コアラ', 'こあら'),
    w('パンダ', 'ぱんだ'),
    w('ハムスター', 'はむすたー'),
    w('カブトムシ', 'かぶとむし'),
    w('蝶々', 'ちょうちょう'),
    w('カラス', 'からす'),
    w('すずめ', 'すずめ'),

    // ====== 食べ物 ======
    w('林檎', 'りんご'),
    w('蜜柑', 'みかん'),
    w('苺', 'いちご'),
    w('葡萄', 'ぶどう'),
    w('桃', 'もも'),
    w('梨', 'なし'),
    w('柿', 'かき'),
    w('西瓜', 'すいか'),
    w('メロン', 'めろん'),
    w('バナナ', 'ばなな'),
    w('寿司', 'すし'),
    w('天ぷら', 'てんぷら'),
    w('ラーメン', 'らーめん'),
    w('うどん', 'うどん'),
    w('蕎麦', 'そば'),
    w('カレー', 'かれー'),
    w('味噌汁', 'みそしる'),
    w('刺身', 'さしみ'),
    w('焼肉', 'やきにく'),
    w('餃子', 'ぎょうざ'),
    w('卵焼き', 'たまごやき'),
    w('おにぎり', 'おにぎり'),
    w('弁当', 'べんとう'),
    w('アイス', 'あいす'),
    w('チョコレート', 'ちょこれーと'),
    w('ケーキ', 'けーき'),
    w('クッキー', 'くっきー'),
    w('ドーナツ', 'どーなつ'),
    w('パン', 'ぱん'),
    w('サラダ', 'さらだ'),

    // ====== 自然 ======
    w('空', 'そら'),
    w('海', 'うみ'),
    w('山', 'やま'),
    w('川', 'かわ'),
    w('森', 'もり'),
    w('花', 'はな'),
    w('風', 'かぜ'),
    w('雨', 'あめ'),
    w('雪', 'ゆき'),
    w('雷', 'かみなり'),
    w('虹', 'にじ'),
    w('星', 'ほし'),
    w('月', 'つき'),
    w('太陽', 'たいよう'),
    w('桜', 'さくら'),
    w('紅葉', 'もみじ'),
    w('台風', 'たいふう'),
    w('地震', 'じしん'),
    w('火山', 'かざん'),
    w('砂漠', 'さばく'),
    w('草原', 'そうげん'),
    w('湖', 'みずうみ'),
    w('滝', 'たき'),
    w('氷', 'こおり'),
    w('霧', 'きり'),

    // ====== 日用品・もの ======
    w('眼鏡', 'めがね'),
    w('鍵', 'かぎ'),
    w('窓', 'まど'),
    w('庭', 'にわ'),
    w('椅子', 'いす'),
    w('机', 'つくえ'),
    w('本', 'ほん'),
    w('鉛筆', 'えんぴつ'),
    w('消しゴム', 'けしごむ'),
    w('時計', 'とけい'),
    w('傘', 'かさ'),
    w('鏡', 'かがみ'),
    w('枕', 'まくら'),
    w('布団', 'ふとん'),
    w('箸', 'はし'),
    w('茶碗', 'ちゃわん'),
    w('財布', 'さいふ'),
    w('写真', 'しゃしん'),
    w('カメラ', 'かめら'),
    w('ラジオ', 'らじお'),
    w('テレビ', 'てれび'),
    w('ピアノ', 'ぴあの'),
    w('ギター', 'ぎたー'),

    // ====== 場所 ======
    w('学校', 'がっこう'),
    w('病院', 'びょういん'),
    w('図書館', 'としょかん'),
    w('美術館', 'びじゅつかん'),
    w('水族館', 'すいぞくかん'),
    w('動物園', 'どうぶつえん'),
    w('遊園地', 'ゆうえんち'),
    w('交差点', 'こうさてん'),
    w('駅', 'えき'),
    w('空港', 'くうこう'),
    w('公園', 'こうえん'),
    w('神社', 'じんじゃ'),
    w('お寺', 'おてら'),
    w('城', 'しろ'),
    w('灯台', 'とうだい'),
    w('温泉', 'おんせん'),
    w('映画館', 'えいがかん'),
    w('レストラン', 'れすとらん'),
    w('コンビニ', 'こんびに'),
    w('スーパー', 'すーぱー'),

    // ====== 乗り物 ======
    w('新幹線', 'しんかんせん'),
    w('電車', 'でんしゃ'),
    w('自転車', 'じてんしゃ'),
    w('飛行機', 'ひこうき'),
    w('バス', 'ばす'),
    w('タクシー', 'たくしー'),
    w('船', 'ふね'),
    w('ヘリコプター', 'へりこぷたー'),
    w('ロケット', 'ろけっと'),
    w('パトカー', 'ぱとかー'),
    w('救急車', 'きゅうきゅうしゃ'),
    w('消防車', 'しょうぼうしゃ'),

    // ====== 体 ======
    w('頭', 'あたま'),
    w('目', 'め'),
    w('耳', 'みみ'),
    w('鼻', 'はな'),
    w('口', 'くち'),
    w('手', 'て'),
    w('足', 'あし'),
    w('指', 'ゆび'),
    w('心臓', 'しんぞう'),
    w('肩', 'かた'),

    // ====== 季節・行事 ======
    w('春', 'はる'),
    w('夏', 'なつ'),
    w('秋', 'あき'),
    w('冬', 'ふゆ'),
    w('お正月', 'おしょうがつ'),
    w('節分', 'せつぶん'),
    w('お花見', 'おはなみ'),
    w('七夕', 'たなばた'),
    w('お盆', 'おぼん'),
    w('花火大会', 'はなびたいかい'),
    w('運動会', 'うんどうかい'),
    w('文化祭', 'ぶんかさい'),
    w('クリスマス', 'くりすます'),
    w('お年玉', 'おとしだま'),
    w('入学式', 'にゅうがくしき'),
    w('卒業式', 'そつぎょうしき'),

    // ====== 日本文化 ======
    w('武士', 'ぶし'),
    w('忍者', 'にんじゃ'),
    w('侍', 'さむらい'),
    w('着物', 'きもの'),
    w('浴衣', 'ゆかた'),
    w('折り紙', 'おりがみ'),
    w('書道', 'しょどう'),
    w('茶道', 'さどう'),
    w('柔道', 'じゅうどう'),
    w('剣道', 'けんどう'),
    w('空手', 'からて'),
    w('相撲', 'すもう'),
    w('歌舞伎', 'かぶき'),
    w('漫画', 'まんが'),
    w('俳句', 'はいく'),
    w('将棋', 'しょうぎ'),
    w('囲碁', 'いご'),
    w('和菓子', 'わがし'),

    // ====== 感情・状態 ======
    w('嬉しい', 'うれしい'),
    w('悲しい', 'かなしい'),
    w('楽しい', 'たのしい'),
    w('怒り', 'いかり'),
    w('驚き', 'おどろき'),
    w('優しさ', 'やさしさ'),
    w('勇気', 'ゆうき'),
    w('友情', 'ゆうじょう'),
    w('約束', 'やくそく'),
    w('冒険', 'ぼうけん'),

    // ====== スポーツ ======
    w('野球', 'やきゅう'),
    w('サッカー', 'さっかー'),
    w('テニス', 'てにす'),
    w('バスケ', 'ばすけ'),
    w('バレー', 'ばれー'),
    w('水泳', 'すいえい'),
    w('マラソン', 'まらそん'),
    w('スキー', 'すきー'),
    w('卓球', 'たっきゅう'),
    w('ゴルフ', 'ごるふ'),
    w('ボクシング', 'ぼくしんぐ'),
    w('体操', 'たいそう'),

    // ====== テクノロジー ======
    w('パソコン', 'ぱそこん'),
    w('携帯電話', 'けいたいでんわ'),
    w('インターネット', 'いんたーねっと'),
    w('プログラミング', 'ぷろぐらみんぐ'),
    w('データベース', 'でーたべーす'),
    w('アプリケーション', 'あぷりけーしょん'),
    w('ソフトウェア', 'そふとうぇあ'),
    w('ハードウェア', 'はーどうぇあ'),
    w('人工知能', 'じんこうちのう'),
    w('ロボット', 'ろぼっと'),
    w('スマートフォン', 'すまーとふぉん'),
    w('タブレット', 'たぶれっと'),

    // ====== 職業 ======
    w('先生', 'せんせい'),
    w('医者', 'いしゃ'),
    w('警察官', 'けいさつかん'),
    w('消防士', 'しょうぼうし'),
    w('料理人', 'りょうりにん'),
    w('弁護士', 'べんごし'),
    w('建築家', 'けんちくか'),
    w('宇宙飛行士', 'うちゅうひこうし'),
    w('科学者', 'かがくしゃ'),
    w('農家', 'のうか'),

    // ====== 音楽 ======
    w('音楽', 'おんがく'),
    w('歌手', 'かしゅ'),
    w('演奏', 'えんそう'),
    w('楽譜', 'がくふ'),
    w('オーケストラ', 'おーけすとら'),
    w('コンサート', 'こんさーと'),
    w('ドラム', 'どらむ'),
    w('バイオリン', 'ばいおりん'),

    // ====== 宇宙 ======
    w('宇宙', 'うちゅう'),
    w('惑星', 'わくせい'),
    w('銀河', 'ぎんが'),
    w('彗星', 'すいせい'),
    w('ブラックホール', 'ぶらっくほーる'),
    w('天の川', 'あまのがわ'),
    w('北斗七星', 'ほくとしちせい'),
    w('宇宙船', 'うちゅうせん'),

    // ====== ことわざ・四字熟語 ======
    w('一石二鳥', 'いっせきにちょう'),
    w('七転八起', 'ななころびやおき'),
    w('十人十色', 'じゅうにんといろ'),
    w('花鳥風月', 'かちょうふうげつ'),
    w('一期一会', 'いちごいちえ'),
    w('温故知新', 'おんこちしん'),
    w('弱肉強食', 'じゃくにくきょうしょく'),
    w('起死回生', 'きしかいせい'),

    // ====== 抽象・その他 ======
    w('夢', 'ゆめ'),
    w('希望', 'きぼう'),
    w('平和', 'へいわ'),
    w('自由', 'じゆう'),
    w('努力', 'どりょく'),
    w('感謝', 'かんしゃ'),
    w('挑戦', 'ちょうせん'),
    w('成長', 'せいちょう'),
    w('未来', 'みらい'),
    w('歴史', 'れきし'),
    w('哲学', 'てつがく'),
    w('経済', 'けいざい'),
    w('政治', 'せいじ'),
    w('教育', 'きょういく'),
    w('科学', 'かがく'),
    w('数学', 'すうがく'),
    w('物理', 'ぶつり'),
    w('化学', 'かがく'),
    w('生物', 'せいぶつ'),
    w('天文学', 'てんもんがく'),
    // ====== 学校 ======
    w("教室", "きょうしつ"),
    w("黒板", "こくばん"),
    w("鉛筆", "えんぴつ"),
    w("宿題", "しゅくだい"),
    w("給食", "きゅうしょく"),
    w("体育館", "たいいくかん"),
    w("運動会", "うんどうかい"),
    w("文化祭", "ぶんかさい"),
    w("修学旅行", "しゅうがくりょこう"),
    w("卒業式", "そつぎょうしき"),

    // ====== 家・生活 ======
    w("玄関", "げんかん"),
    w("台所", "だいどころ"),
    w("風呂", "ふろ"),
    w("寝室", "しんしつ"),
    w("洗濯機", "せんたくき"),
    w("掃除機", "そうじき"),
    w("炊飯器", "すいはんき"),
    w("電子レンジ", "でんしれんじ"),
    w("歯ブラシ", "はぶらし"),
    w("石鹸", "せっけん"),

    // ====== 料理 ======
    w("カレーライス", "かれーらいす"),
    w("ハンバーグ", "はんばーぐ"),
    w("オムライス", "おむらいす"),
    w("寿司", "すし"),
    w("天ぷら", "てんぷら"),
    w("焼き肉", "やきにく"),
    w("ラーメン", "らーめん"),
    w("うどん", "うどん"),
    w("パスタ", "ぱすた"),
    w("ピザ", "ぴざ"),

    // ====== 職業 ======
    w("医者", "いしゃ"),
    w("看護師", "かんごし"),
    w("警察官", "けいさつかん"),
    w("消防士", "しょうぼうし"),
    w("パイロット", "ぱいろっと"),
    w("先生", "せんせい"),
    w("歌手", "かしゅ"),
    w("俳優", "はいゆう"),
    w("声優", "せいゆう"),
    w("YouTuber", "ゆーちゅーばー"),

    // ====== 感情・様子 ======
    w("楽しい", "たのしい"),
    w("嬉しい", "うれしい"),
    w("面白い", "おもしろい"),
    w("美しい", "うつくしい"),
    w("難しい", "むずかしい"),
    w("簡単", "かんたん"),
    w("眠い", "ねむい"),
    w("素晴らしい", "すばらしい"),
    w("懐かしい", "なつかしい"),
    w("恥ずかしい", "はずかしい"),

    // ====== 動詞 ======
    w("走る", "はしる"),
    w("食べる", "たべる"),
    w("学ぶ", "まなぶ"),
    w("考える", "かんがえる"),
    w("笑う", "わらう"),
    w("探す", "さがす"),
    w("作る", "つくる"),
    w("遊ぶ", "あそぶ"),
    w("歌う", "うたう"),
    w("泳ぐ", "およぐ"),

    // ====== 自然・天気 ======
    w("台風", "たいふう"),
    w("稲妻", "いなずま"),
    w("虹", "にじ"),
    w("オーロラ", "おーろら"),
    w("満月", "まんげつ"),
    w("星座", "せいざ"),
    w("天の川", "あまのがわ"),
    w("砂漠", "さばく"),
    w("火山", "かざん"),
    w("洞窟", "どうくつ"),

    // ====== IT用語 (追加) ======
    w("データベース", "でーたべーす"),
    w("アルゴリズム", "あるごりずむ"),
    w("ネットワーク", "ねっとわーく"),
    w("セキュリティ", "せきゅりてぃ"),
    w("デバッグ", "でばっぐ"),
    w("仮想通貨", "かそうつうか"),
    w("人工知能", "じんこうちのう"),
    w("ブロックチェーン", "ぶろっくちぇーん"),
];
